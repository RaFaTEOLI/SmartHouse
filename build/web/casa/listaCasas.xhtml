<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <f:view>
     <h:head>
        <link type="text/css" rel="stylesheet" href="../css/styles.css" />
         <title>
            <h:outputText value="#{msgs.pageTitle}"/>
         </title>
        <link rel="icon" type="image/png" href="../resources/img/home.png" />
        <style>
            
        </style>
      </h:head>
     <h:body>
           <div id="header">
            <ui:insert name="header" >
		  <ui:include src="/template/nav.xhtml" />
            </ui:insert>
           </div>
           <b:container fluid="true">
           <b:panel title="Listar Casas" look="primary">
           <h:form>
               <b:commandButton look="primary" action="inicial" class="top-options">
                   <i class="fas fa-undo"></i>
               </b:commandButton>
               <b:commandButton look="success" action="incluir" class="top-options">
                   <i class="fas fa-plus-square"></i>
               </b:commandButton>
               <br></br>
               <br></br>
           <b:row>
                <!-- Solução 2 -->
                <ui:repeat value="#{ctrCasa.casas}" var="casa">
                    <b:column col-sm="6" col-md="3">
                        <b:thumbnail style="background-color: #55e0d2; box-shadow: 2px 2px 15px 0px #000000; border-radius: 14px;">
                        <i class="fas fa-home fa-8x house"></i>
                        <f:facet name="caption">
                          <h3>#{casa.nome}</h3>
                          <p>Cidade: <strong>#{casa.cidade}</strong>
                              <br></br>
                              Proprietário: <strong>#{casa.pessoa.nome} #{casa.pessoa.sobrenome}
                              </strong>
                          </p>
                          <b:commandButton look="primary" size="sm" action="entrar">
                                <i class="fas fa-sign-in-alt"></i>
                                <f:setPropertyActionListener value="#{casa}" target="#{ctrCasa.casa}" />
                          </b:commandButton>
                          <b:commandButton look="info" size="sm" action="alterar">
                                <i class="far fa-edit"></i>
                                <f:setPropertyActionListener value="#{casa}" target="#{ctrCasa.casa}" />
                          </b:commandButton>
                          <b:commandButton look="danger" onclick="return confirm('Confirma a exclusão?');" size="sm" action="#{ctrCasa.excluir}">
                                <i class="far fa-trash-alt"></i>
                                <f:setPropertyActionListener value="#{casa}" target="#{ctrCasa.casa}" />
                          </b:commandButton>
                        </f:facet>
                        </b:thumbnail>
                    </b:column>
                </ui:repeat>
           </b:row>
          </h:form>
          </b:panel>
          </b:container>
        </h:body>
   </f:view>
</html>

